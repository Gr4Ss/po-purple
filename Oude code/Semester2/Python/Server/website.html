<!DOCTYPE html>
<html>
<head>

    <meta charset="utf-8">

    <title>P&O Purple</title>

    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.5/angular.min.js"></script>
    <script type="text/javascript" src="vis.min.js"></script>
	   <script type="text/javascript" src="network.js"></script>
    <script src="js/raspimjpeg.js"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap-theme.min.css" >
    <link rel="stylesheet" href="/static/cssv2.css">
</head>

<body data-spy="scroll" data-target=".navbar" data-offset="50" onload="setTimeout('init();', 100);">
    <nav class="navbar navbar-inverse navbar-fixed-top">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="#">P&O Purple</a>
        </div>
        <div id="navbar" class="collapse navbar-collapse">
          <ul class="nav navbar-nav">
            <li class="active"><a href="#home" class="smooth-nav">Home</a></li>
	    <li><a href="#videostream" class="smooth-nav">Videostream</a></li>
            <li><a href="#about" class="smooth-nav">About</a></li>
          </ul>
        </div><!--/.nav-collapse -->
      </div>
    </nav>

    <div class="container" id='home'>
		<div class="starter-template">
      rap<div class="jumbotron">
        <h1>Get lock!</h1>
        <form>
          <input type = "submit" value = "Lock" name ='lock'>
          <input type = "submit" value = "Unlock" name = 'unlock'>
        </form>
      </div>

      <div class="panel-group" id="accordion" role="tablist" aria-multiselectable="true">

        <div class="panel panel-default">
          <div class="panel-heading" role="tab" id="headingOne">
            <h4 class="panel-title">
              <a role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
              Drive straight
              </a>
            </h4>
          </div>
          <div id="collapseOne" class="panel-collapse collapse in" role="tabpanel" aria-labelledby="headingOne">
            <div class="panel-body">
              <p>
                The robot uses 2 PID-controllers to drive a straight line.
                The first PID-controller has as input the distance yet to be driven and has as output a speed for both engines.
                The input of the second PID-controller is supplied with the distance difference between the
                left and the right wheel, and present at it's output the speed differce between both engines.</br>
                <strong> The distace must between 20 cm and 6m <strong>
              </p>

              <div class="form1" >
                <form class="form-horizontal">
                  <div class="form-group">
                    <label for="distance">Distance</label>
                    <input type="number"  id="distance" placeholder="in cm" name='straight'>
                  </div>
                  <button type="submit" class="btn btn-default btn-lg btn-block">Drive straight</button>
                </form>
              </div>
            </div>
          </div>
        </div>

        <div class="panel panel-default">
          <div class="panel-heading" role="tab" id="headingTwo">
            <h4 class="panel-title">
              <a class="collapsed" role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
              Drive Circle
              </a>
            </h4>
          </div>
          <div id="collapseTwo" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingTwo">
            <div class="panel-body">
              <p>
                <strong>Note: </strong> The given radius is the radius of the circle driven by the centermost wheel.
              </p>
              <div class="form2">
                <form class="form-horizontal">
                  <div class="form-group">
                    <label for="radius">Radius</label>
                    <input type="text"  id="radius" placeholder="in cm" name="circ">
                  </div>
                  <button type="submit" class="btn btn-default btn-lg btn-block">Drive Circle</button>
                </form>
              </div>
            </div>
          </div>
        </div>

        <div class="panel panel-default">
          <div class="panel-heading" role="tab" id="headingThree">
            <h4 class="panel-title">
              <a class="collapsed" role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
              Drive Square
              </a>
            </h4>
          </div>
          <div id="collapseThree" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingThree">
            <div class="panel-body">
              <p>
                To drive a square, the robot will first drive the given length. Then it will rotate and drive the same distance again, ...
                </br>
                </br>
                <strong>Note:</strong> The robot will end its movement in the same position as he started it, i.e. after the last straight he will rotate again.
              </p>
              <div class="form3">
                <form class="form-horizontal">
                  <div class="form-group">
                    <label for="side">Side Length</label>
                    <input type="text"  id="side" placeholder="in cm" name="square">
                  </div>
                  <button type="submit" class="btn btn-default btn-lg btn-block">Drive Square</button>
                </form>
              </div>
            </div>
          </div>
        </div>

        <div class="panel panel-default">
          <div class="panel-heading" role="tab" id="headingFour">
            <h4 class="panel-title">
              <a class="collapsed" role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseFour" aria-expanded="false" aria-controls="collapseFour">
              Follow the line
              </a>
            </h4>
          </div>
          <div id="collapseFour" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingFour">
            <div class="panel-body">
              <p> <strong>Note:</strong> Coming soon </p>
              <div class="form4">
                <form class="form-horizontal">
                  <button type="submit" class="btn btn-default btn-lg btn-block">Follow the line</button>
                </form>
              </div>
            </div>
          </div>
        </div>

        <div class="panel panel-default">
          <div class="panel-heading" role="tab" id="headingFive">
            <h4 class="panel-title">
              <a class="collapsed" role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseFive" aria-expanded="false" aria-controls="collapseFive">
              Send commands
              </a>
            </h4>
          </div>
          <div id="collapseFive" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingFive">
            <div class="panel-body">
              <div class="form5">
                <p> <strong>Note:</strong> To be tested </p>
                <form class="form-horizontal">
                  <p>
                    <textarea  rows="3" class="form-control commandList" placeholder="Send list of commands" method='POST' name='commands'></textarea>
                  </p>
                  <p>
                    <button type="submit" class="btn btn-default btn-lg btn-block">Send</button>
                  </p>
                  <p>
                    <button type="reset" class="btn btn-default btn-lg btn-block">Reset</button>
                  </p>
                </form>
                <p>
                  <div class="row">
                    <div class="col-xs-2">
                      <input type="number" class="valueLeft" placeholder="left"></input>
                    </div>
                    <div class="col-xs-2">
                      <button class="btn btn-default btn-block nextLeft">Left</button>
                    </div>
                    <div class="col-xs-2">
                      <input type="number" class="valueRight" placeholder="right"></input>
                    </div>
                    <div class="col-xs-2">
                      <button class="btn btn-default btn-block nextStraight">Right</button>
                    </div>
                    <div class="col-xs-2">
                      <input type="number" class="valueDistance" placeholder="distance (cm)"></input>
                    </div>
                    <div class="col-xs-2">
                      <button class="btn btn-default btn-block nextDistance">Distance</button>
                    </div>
                  </div>
                </p>
              </div>
            </div>
          </div>
        </div>

        <div class="panel panel-default">
          <div class="panel-heading" role="tab" id="headingSix">
            <h4 class="panel-title">
              <a class="collapsed" role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseSix" aria-expanded="false" aria-controls="collapseSix">
              Manual driving
              </a>
            </h4>
          </div>
          <div id="collapseSix" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingSix">
              <div class="panel-body">
              <div class="touch-keys" >
                <div class="row">
                  <div class="col-xs-4 col-xs-offset-4">
                    <style>
                      .not_pressed{
                          background-color: white;
                          color: black;
                          background-image: none;
                      }
                      .pressed{
                        background-color:grey;
                        color:white;
                      }
                    </style>
                    <button class="btn btn-default btn-block driveForward" onmouseup="keyUpReleased()" onmousedown="keyUpPressed()">
                    F
                    </button>
                  </div>
                </div>
                <div class="row">
                  <div class="col-xs-4">
                    <button class="btn btn-default btn-block driveLeft not_pressed" onmouseup="keyLeftReleased()" onmousedown="keyLeftPressed()">
                    L
                    </button>
                  </div>
                  <div class="col-xs-4">
                    <button class="btn btn-default btn-block driveReverse" onmouseup="keyDownReleased()" onmousedown="keyDownPressed()">
                    B
                    </button>
                  </div>
                  <div class="col-xs-4">
                    <button class="btn btn-default btn-block driveRight" onmouseup="keyRightReleased()" onmousedown="keyRightPressed()">
                    R
                    </button>
                  </div>
                </div>
              </div>
              <div class="keyboard-keys">
              Or press the keyboard arrow keys to control the vehicle!
              <script src="keyspress.js"></script>
              </div>
              </div>
          </div>
        </div>

        <div class="panel panel-default">
          <div class="panel-heading" role="tab" id="headingSeven">
            <h4 class="panel-title">
              <a id='sevenLink' class="collapsed" role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseSeven" aria-expanded="false" aria-controls="collapseSeven">
              Get data
              </a>
            </h4>
          </div>
          <div id="collapseSeven" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingSeven">
            <div class="panel-body">
                <div>
                  <canvas id="speedChart" width="600px" height="400px"></canvas>
                  <script src="chart.js"></script>
                </div>
              </div>
            </div>
          </div>
        </div>


      </div>
      </div>

      <div class='container' id='videostream'>
      <div class="starter-template">
      <h1> Videostream </h1>
      <img class="img-responsive" id="mjpeg_dest" width=720px height=400px>
      </div>
      </div>

      <div class='container'id='about'>
      <div class="starter-template">
      <h1> About us </h1>
      <div id="carousel-example-generic" class="carousel slide" data-ride="carousel" style="max-width: 720px;width: 100%; margin: 0 auto">
      <!-- Indicators -->
        <ol class="carousel-indicators">
          <li data-target="#carousel-example-generic" data-slide-to="0" class="active"></li>
          <li data-target="#carousel-example-generic" data-slide-to="1"></li>
          <li data-target="#carousel-example-generic" data-slide-to="2"></li>
        </ol>

        <!-- Wrapper for slides -->
        <div class="carousel-inner" role="listbox">
          <div class="item active">
            <img src="Images/Rear_view.jpg" alt="Couldn't load image">
            <div class="carousel-caption">
              <p> Rear view </p>
            </div>
          </div>
          <div class="item">
            <img src="Images/Side_view.jpg" alt="Couldn't load image">
            <div class="carousel-caption">
              <p> Side view </p>
            </div>
          </div>
          <div class="item">
            <img src="Images/Front_view.jpg" alt="Couldn't load image">
            <div class="carousel-caption">
              <p> Front view </p>
            </div>
          </div>
        </div>

        <!-- Controls -->
         <a class="left carousel-control" href="#carousel-example-generic" role="button" data-slide="prev">
          <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
          <span class="sr-only">Previous</span>
        </a>
        <a class="right carousel-control" href="#carousel-example-generic" role="button" data-slide="next">
          <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
          <span class="sr-only">Next</span>
        </a>
      </div>
      </div>
      </div>

      <script>
      $('.smooth-nav').click(function(){
      $('html, body').animate({
          scrollTop: $( $.attr(this, 'href') ).offset().top
      }, 500);
      return false;
      });
      </script>

      <script>
      $('.nextLeft').click(function(){
        $('.commandList').val($('.commandList').val() + 'Left(' + $('.valueLeft').val() + '),');
        $('.valueLeft').val('');
      });

      $('.nextStraight').click(function(){
        $('.commandList').val($('.commandList').val() + 'Right(' + $('.valueRight').val() + '),');
        $('.valueRight').val('');
      });

      $('.nextDistance').click(function(){
        $('.commandList').val($('.commandList').val() + 'Distance(' + $('.valueDistance').val() + '),');
        $('.valueDistance').val('');
      });
      </script>

      <script>
        $('#sevenLink').click(function(){
          console.log('cliked');
          $('#speedChart').css('width:400px,height:600px');
        });
      </script>
      </body>
      </html>
